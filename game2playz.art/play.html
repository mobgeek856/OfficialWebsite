<!DOCTYPE html>
<html lang="en" cyan>

<head>
    <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>game2playz.art</title>
    <link rel="icon" href="logo.png" />
    <link rel="stylesheet" href="prod-css/play.css" />
    <script src="https://jsc.mgid.com/site/1073274.js" async></script>
</head>

<body>
    <div class="playPage" id="playPage">
        <div class="header">
            <a href="./">
                <div class="HomeButton font1">
                    <img src="./assets/fanhui.png" alt="" srcset="" />
                </div>
            </a>
            <div class="font4 title">
                game2playz.art
            </div>
        </div>
        <div data-type="_mgwidget" data-widget-id="1930183"></div>
        <div class="gameBanner" onclick="gotoPlayGame()">
            <img class="bgdimg" src="./assets/di@3x.png" alt="" />

            <div class="gameBannerbox">
                <img class="mainImg gameImgUrl" src="./assets/placeholder.svg" alt="" srcset="" />
                <div class="gameTitle font4"></div>
        <div class="description font2"></div>

                <div class="playButton font2" onclick="gotoPlayGame()">
                    <img src="./assets/kaishi.png" alt="">
                    Play Now
                </div>
                
                <div class="footer">
                    <div class="gameMsg">
                        <img src="./assets/9.png" alt="" />
                        <div class="font08 gameMsgNum"></div>
                    </div>
                    <div class="gameMsg">
                        <img src="./assets/10.png" alt="" />
                        <div class="font08 gameMsgNum"></div>
                    </div>
                    <div class="gameMsg">
                        <img src="./assets/11.png" alt="" />
                        <div class="font08 gameMsgNum"></div>
                    </div>
                    <div class="gameMsg">
                        <img src="./assets/12.png" alt="" />
                        <div class="font08 gameMsgNum"></div>
                    </div>
                </div>
            </div>
        </div>
        <div data-type="_mgwidget" data-widget-id="1930181"></div>
        <div class="SimilarGame"></div>
    </div>

        <!-- 覆盖层：默认隐藏，显示时为全屏插屏 -->
    <div id="mg_inter"
        style="position:fixed;top:0;left:0;width:100vw;height:100vh;
                display:none;justify-content:center;align-items:center;
                background:rgba(0,0,0,.55);z-index:2147483647;padding:16px;box-sizing:border-box;">

        <button onclick="mgHide()" aria-label="Close"
                style="position:fixed;top:12px;right:12px;width:36px;height:36px;border:0;
                        border-radius:50%;background:rgba(0,0,0,.7);color:#fff;font-size:20px;
                        cursor:pointer;z-index:2147483647">×</button>

        <div style="width:100%;max-width:420px;max-height:85vh;background:#fff;border-radius:12px;
                    overflow:auto;box-shadow:0 10px 30px rgba(0,0,0,.4);padding:8px;box-sizing:border-box;">
            <div data-type="_mgwidget" data-widget-id="1930186"></div>
        </div>
    </div>


    <div data-type="_mgwidget" data-widget-id="1930185"
        style="position:fixed;left:0;right:0;bottom:0;z-index:9999;display:flex;justify-content:center;align-items:center;padding:6px 8px calc(6px + env(safe-area-inset-bottom));box-sizing:border-box;max-width:100vw;background:transparent;">
    </div>

    <script>
         function mgShow(){
            var el = document.getElementById('mg_inter');
            if(el){ el.style.display='flex'; document.documentElement.style.overflow='hidden'; }
        }
        function mgHide(){
            var el = document.getElementById('mg_inter');
            if(el){ el.style.display='none'; document.documentElement.style.overflow=''; }
        }
        (function(w,q){w[q]=w[q]||[];w[q].push(["_mgc.load"])})(window,"_mgq"); 
   
    </script> 

</body>
<script type="module">
    import { getGamesListApi, getGamesListCategory } from "./assets/js/business.js";

    const urlParams = new URLSearchParams(window.location.search);
    const title = urlParams.get("title");
    let allGameList = await getGamesListApi({ name: title });
    window.gamedata = allGameList[0];

    Array.prototype.forEach.call(
        document.getElementsByClassName("gameImgUrl"),
        (item) => {
            item.src = gamedata.thumb;
        }
    );

    Array.prototype.forEach.call(
        document.getElementsByClassName("gameTitle"),
        (item) => {
            item.innerHTML = gamedata.title;
        }
    );

    Array.from(document.getElementsByClassName("gameMsgNum"))[0].innerHTML = Math.floor(Math.random() * 1000)
    Array.from(document.getElementsByClassName("gameMsgNum"))[1].innerHTML = Math.floor(Math.random() * 100)
    Array.from(document.getElementsByClassName("gameMsgNum"))[2].innerHTML = Math.floor(Math.random() * 2000)
    Array.from(document.getElementsByClassName("gameMsgNum"))[3].innerHTML = Math.floor(Math.random() * 3000)

    document.querySelector(".description").innerHTML = gamedata.description;

    let SimilarGameList = await getGamesListApi({ num: 30, category: getGamesListCategory.indexOf(gamedata.category) });

    SimilarGameList.forEach((item) => {
        document.querySelector(".SimilarGame").innerHTML += `
            <a href="play.html?title=${item.title}">
                <div class="gameItem"> <img src="${item.thumb}" alt=""></div>
            </a>`
    })


    window.gotoPlayGame = function () {
        window.location.href = gamedata.url;
    }

</script>

<!-- gtag -->

      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-79HREGCTG3"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-79HREGCTG3');
      </script>
        

</html>